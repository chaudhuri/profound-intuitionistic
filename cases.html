<!DOCTYPE html>
<html>
  <head>
    <title>Some test cases</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="katex-dist/katex.min.css">
    <script src="katex-dist/katex.min.js"></script>
    <!-- <\!-- To automatically render math in text elements, include the auto-render extension: -\-> -->
    <!-- <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" -->
    <!--     onload="renderMathInElement(document.body);"></script> -->
    <script src="_build/default/src/ora.bc.js"></script>
    <script>
      const macros = {
          "\\o": "\\mathsf{o}",
          "\\i": "\\mathsf{i}",
      };

      const katex_options = {
          trust: true,
          output: 'html',
          strict: false,
          macros
      }

      $(document).ready(function(){
          profint.signatureChange(document.sigEditor.getValue());
          $('li').each(function(){
              const txt = $(this).text().trim();
              let anc =
                  $('<a>')
                  .attr('href', 'test2.html?f=' + encodeURIComponent(txt))
                  .html(function(){
                      var expr = profint.convertToHTML(txt);
                      return katex.renderToString(expr, katex_options);
                  });
              $(this).empty().append(anc);
          });
      });
    </script>
    <style>
      body {padding-left: 40px; padding-top: 40px;}
      #signature {margin: 0; position: fixed; bottom: 0; left: 0; right: 0;}
    </style>
  </head>
  <body>
    <h1>Profint: pedagogic examples</h1>

    <h4>Propositional</h4>

    <ul>
      <li>a \to \top</li>
      <li>a \to a</li>
      <li>a \to b \to a</li>
      <li>a \to a \and a</li>
      <li>a \and b \to b \and a</li>
      <li>a \to b \to b \and a</li>
      <li>(a \to b \to c) \to (a \to b) \to a \to c</li>
    </ul>

    <h4>Classical theorems (and their double negations)</h4>

    <ul>
      <li>a \or (a \to \bot)</li>
      <li>((a \or (a \to \bot)) \to \bot) \to \bot</li>
      <li>((a \to b) \to a) \to a</li>
      <li>((((a \to b) \to a) \to a) \to \bot) \to \bot</li>
    </ul>

    <h4>Instantiation</h4>

    <ul>
      <li>\A [x, y] p (g x y) \to p (g x x)</li>
      <li>p j \to \E [x] p x</li>
      <li>(\A [x] p x) \to p k</li>
    </ul>

    <h4>Corner cases</h4>

    <ul>
      <li>(\A [x] \E [y] r x y) \to (\E [w] \A [z] r z w)</li>
      <li>(\E [w] \A [z] r z w) \to (\A [x] \E [y] r x y)</li>
      <li>(\A [x] p x) \to \E [y] p y</li>
      <li>(\A [x] p x) \to \A [y] p y</li>
    </ul>

    <pre id="signature">p : \i -> \o.
q : \i -> \i -> \o.

f : \i -> \i.
g : \i -> \i -> \i.

j, k : \i.

a, b, c : \o.

p, q : \i -> \o.
r : \i -> \i -> \o.</pre>
    <script src="dist-ace/src-noconflict/ace.js"></script>
    <script>
      var sigEditor = ace.edit("signature");
      sigEditor.setTheme("ace/theme/twilight");
      sigEditor.setOptions({
          minLines: 5,
          maxLines: 20,
          showLineNumbers: false,
          showGutter: true,
      });
      document.sigEditor = sigEditor;
      sigEditor.on("change", function(e) {
          var res = profint.signatureChange(sigEditor.getValue());
          if (!res)
              $('#signature').css({'border': '2px solid red'});
          else
              $('#signature').css({'border': 'none'});
      });
      // sigEditor.session.setMode("ace/mode/javascript");
    </script>

  </body>
</html>
